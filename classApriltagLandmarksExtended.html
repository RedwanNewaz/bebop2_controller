<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>airlib: ApriltagLandmarksExtended Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">airlib
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="classApriltagLandmarksExtended-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">ApriltagLandmarksExtended Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This class compute the robot coordinate from stationary tags.  
 <a href="classApriltagLandmarksExtended.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="ApriltagLandmarksExtended_8h_source.html">ApriltagLandmarksExtended.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for ApriltagLandmarksExtended:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classApriltagLandmarksExtended.png" usemap="#ApriltagLandmarksExtended_map" alt=""/>
  <map id="ApriltagLandmarksExtended_map" name="ApriltagLandmarksExtended_map">
<area href="classSensorBase.html" title="This class provides a conection to acquire internal state vector." alt="SensorBase" shape="rect" coords="0,56,268,80"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aaa466c57cecee49aa04ce6566eafe754"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classApriltagLandmarksExtended.html#aaa466c57cecee49aa04ce6566eafe754">ApriltagLandmarksExtended</a> (ros::NodeHandle &amp;nh)</td></tr>
<tr class="separator:aaa466c57cecee49aa04ce6566eafe754"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1388aab1f80157b8f6119e9074708d91"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classApriltagLandmarksExtended.html#a1388aab1f80157b8f6119e9074708d91">operator()</a> (std::vector&lt; double &gt; &amp;result)</td></tr>
<tr class="memdesc:a1388aab1f80157b8f6119e9074708d91"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is an interface to access to the internal state vector so that other modules can do their computation.  <a href="classApriltagLandmarksExtended.html#a1388aab1f80157b8f6119e9074708d91">More...</a><br /></td></tr>
<tr class="separator:a1388aab1f80157b8f6119e9074708d91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8a29554b619ac0ea8e973b96b7e4135"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classApriltagLandmarksExtended.html#ad8a29554b619ac0ea8e973b96b7e4135">empty</a> ()</td></tr>
<tr class="memdesc:ad8a29554b619ac0ea8e973b96b7e4135"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is an interface to check whether internal state vector is empty or not so that we can safely read internal state vector.  <a href="classApriltagLandmarksExtended.html#ad8a29554b619ac0ea8e973b96b7e4135">More...</a><br /></td></tr>
<tr class="separator:ad8a29554b619ac0ea8e973b96b7e4135"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classSensorBase"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classSensorBase')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classSensorBase.html">SensorBase</a></td></tr>
<tr class="memitem:aacd7a71d84767414807a14b34a5ad7c6 inherit pub_methods_classSensorBase"><td class="memItemLeft" align="right" valign="top"><a class="el" href="SensorBase_8h.html#ae79ed385e2ca22ae255892167db2390c">SensorPtr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSensorBase.html#aacd7a71d84767414807a14b34a5ad7c6">getPtr</a> ()</td></tr>
<tr class="memdesc:aacd7a71d84767414807a14b34a5ad7c6 inherit pub_methods_classSensorBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">systematic way to share SensorPtr to control class  <a href="classSensorBase.html#aacd7a71d84767414807a14b34a5ad7c6">More...</a><br /></td></tr>
<tr class="separator:aacd7a71d84767414807a14b34a5ad7c6 inherit pub_methods_classSensorBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad56a833e43ba1c3c10cbf52024390e44 inherit pub_methods_classSensorBase"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSensorBase.html#ad56a833e43ba1c3c10cbf52024390e44">publish_tf</a> (const std::vector&lt; double &gt; &amp;state)</td></tr>
<tr class="memdesc:ad56a833e43ba1c3c10cbf52024390e44 inherit pub_methods_classSensorBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Publish robot transformation so that we can visualize it in RVIZ. <br  />
 tf::TransformBroadcaster m_br; variable does not depends of NodeHandle. Therefore we can implement publish_tf in this abstract class.  <a href="classSensorBase.html#ad56a833e43ba1c3c10cbf52024390e44">More...</a><br /></td></tr>
<tr class="separator:ad56a833e43ba1c3c10cbf52024390e44 inherit pub_methods_classSensorBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a870b913ffc2643bcbe6720f8e6351a92"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classApriltagLandmarksExtended.html#a870b913ffc2643bcbe6720f8e6351a92">apriltag_callback</a> (const apriltag_ros::AprilTagDetectionArray::ConstPtr &amp;msg)</td></tr>
<tr class="memdesc:a870b913ffc2643bcbe6720f8e6351a92"><td class="mdescLeft">&#160;</td><td class="mdescRight">given a array of detected tags, here we calculate robot global coordinate with respect to each tag. Each tag propose a noisy state of the robot when transformed it to the global frame. Therefore, an appropriate state filter is used to denoise those readings and compute the robot state accurately.  <a href="classApriltagLandmarksExtended.html#a870b913ffc2643bcbe6720f8e6351a92">More...</a><br /></td></tr>
<tr class="separator:a870b913ffc2643bcbe6720f8e6351a92"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This class compute the robot coordinate from stationary tags. </p>
<p>There are three stationary apriltags located on the wall. These tags are treated as known landmarks for the map. Bebop2 can view these tags with the front facing camera. It is not necessary to see all the tags even one landmark can help to localize the robot. This information is feedback to the computer to detect apriltags from the camera image. Bebop2 can transmit this images upto 28 Hz speed Apprantly, the tags are located only front direction, therefore robot yaw angle is ignored. </p>

<p class="definition">Definition at line <a class="el" href="ApriltagLandmarksExtended_8h_source.html#l00031">31</a> of file <a class="el" href="ApriltagLandmarksExtended_8h_source.html">ApriltagLandmarksExtended.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aaa466c57cecee49aa04ce6566eafe754"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa466c57cecee49aa04ce6566eafe754">&#9670;&nbsp;</a></span>ApriltagLandmarksExtended()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ApriltagLandmarksExtended::ApriltagLandmarksExtended </td>
          <td>(</td>
          <td class="paramtype">ros::NodeHandle &amp;&#160;</td>
          <td class="paramname"><em>nh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ApriltagLandmarksExtended_8cpp_source.html#l00010">10</a> of file <a class="el" href="ApriltagLandmarksExtended_8cpp_source.html">ApriltagLandmarksExtended.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a870b913ffc2643bcbe6720f8e6351a92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a870b913ffc2643bcbe6720f8e6351a92">&#9670;&nbsp;</a></span>apriltag_callback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ApriltagLandmarksExtended::apriltag_callback </td>
          <td>(</td>
          <td class="paramtype">const apriltag_ros::AprilTagDetectionArray::ConstPtr &amp;&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>given a array of detected tags, here we calculate robot global coordinate with respect to each tag. Each tag propose a noisy state of the robot when transformed it to the global frame. Therefore, an appropriate state filter is used to denoise those readings and compute the robot state accurately. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>an array of detected tags </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ApriltagLandmarksExtended_8cpp_source.html#l00038">38</a> of file <a class="el" href="ApriltagLandmarksExtended_8cpp_source.html">ApriltagLandmarksExtended.cpp</a>.</p>

</div>
</div>
<a id="ad8a29554b619ac0ea8e973b96b7e4135"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8a29554b619ac0ea8e973b96b7e4135">&#9670;&nbsp;</a></span>empty()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ApriltagLandmarksExtended::empty </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This is an interface to check whether internal state vector is empty or not so that we can safely read internal state vector. </p>
<dl class="section return"><dt>Returns</dt><dd>true if internal state vector has not been populated yet </dd>
<dd>
false if internal state vector has been initialized </dd></dl>
<dl class="section note"><dt>Note</dt><dd>previous void <a class="el" href="classApriltagLandmarksExtended.html#a1388aab1f80157b8f6119e9074708d91" title="This is an interface to access to the internal state vector so that other modules can do their comput...">operator()(std::vector&lt;double&gt;&amp; result)</a> depends on it </dd></dl>

<p>Implements <a class="el" href="classSensorBase.html#a4f481426253035b3a39162d107f52a38">SensorBase</a>.</p>

<p class="definition">Definition at line <a class="el" href="ApriltagLandmarksExtended_8cpp_source.html#l00087">87</a> of file <a class="el" href="ApriltagLandmarksExtended_8cpp_source.html">ApriltagLandmarksExtended.cpp</a>.</p>

</div>
</div>
<a id="a1388aab1f80157b8f6119e9074708d91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1388aab1f80157b8f6119e9074708d91">&#9670;&nbsp;</a></span>operator()()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ApriltagLandmarksExtended::operator() </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>result</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This is an interface to access to the internal state vector so that other modules can do their computation. </p>
<dl class="section note"><dt>Note</dt><dd>this interface depends on bool <a class="el" href="classApriltagLandmarksExtended.html#ad8a29554b619ac0ea8e973b96b7e4135" title="This is an interface to check whether internal state vector is empty or not so that we can safely rea...">empty()</a> <br  />
 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">result</td><td>copy internal state vector to result vector </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classSensorBase.html#ae77f79abe25a2939434e30575ea5fd30">SensorBase</a>.</p>

<p class="definition">Definition at line <a class="el" href="ApriltagLandmarksExtended_8cpp_source.html#l00081">81</a> of file <a class="el" href="ApriltagLandmarksExtended_8cpp_source.html">ApriltagLandmarksExtended.cpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/airlib/localization/Sensors/<a class="el" href="ApriltagLandmarksExtended_8h_source.html">ApriltagLandmarksExtended.h</a></li>
<li>airlib/localization/Sensors/<a class="el" href="ApriltagLandmarksExtended_8cpp_source.html">ApriltagLandmarksExtended.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
